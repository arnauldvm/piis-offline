<title>PIIS offline</title>
<link rel="stylesheet" href="css/piis.css">
<script src="js/model.js"></script>
<script src="js/xml.js"></script>
<script src="js/lists.js"></script>
<script src="js/lists/municipalities.js"></script>

<body onload="registerAllOutputs('output'); registerAllInputs('input'); registerAllInputs('output')">
<div id="form">
  <h1>Projet Individualisé d'Intégration Sociale</h1>

  <fieldset id="form+center">
  <span class="input"><label>CPAS de <input id="-center+municipality" list="list.municipalities"></label></span>
  <span class="input"><label>Code INS <input id="-center+inscode" placeholder="00000" pattern="\d{5}" type="text" title="5 chiffres"/></label></span>
  <span class="input">
    <label>Président <input id="-center+president+name"></label>
    <label>M<input name="-center+president+genre" type="radio" value="M"></label>
    <label>F<input name="-center+president+genre" type="radio" value="F"></label>
  </span>
  <span class="input">
    <label>Directeur général <input id="-center+director+name"></label>
    <label>M<input name="-center+director+genre" type="radio" value="M"></label>
    <label>F<input name="-center+director+genre" type="radio" value="F"></label>
  </span>
  <span class="input"><label>Rue <input id="-center+address+street"/></label></span>
  <span class="input"><label>Numéro <input id="-center+address+streetnumber"/></label></span>
  <span class="input"><label>Code postal <input id="-center+address+zip" placeholder="0000" pattern="\d{4}" type="text" title="4 chiffres"/></label></span>
  <span class="input"><label>Localité <input id="-center+address+locality"/></label></span>
    <!-- TODO: "Commune" instead of "Localité"? -->
  </fieldset>

  <fieldset id="form+beneficiary">
  <h2>Bénéficiaire du PIIS</h2>
  <span class="input">
    <label>Nom <input id="-beneficiary+lastname"/></label>
  </span>
  <span class="input">
    <label>Prénom <input id="-beneficiary+firstname"/></label>
    <label>M<input name="-beneficiary+genre" type="radio" value="M"></label>
    <label>F<input name="-beneficiary+genre" type="radio" value="F"></label>
  </span>
  <span class="input">
    <label>Numéro du Registre National <input id="-beneficiary+nrn" placeholder="00.00.00-000.00" pattern="(\d[.\- ]*){11}" type="text" title="11 chiffres"/></label>
  </span>
  <span class="input">
    <label>Date de naissance <input id="-beneficiary+birthdate" type="date"/></label>
  </span>
  <span class="input"><label>Rue <input id="-beneficiary+address+street"/></label></span>
  <span class="input"><label>Numéro <input id="-beneficiary+address+streetnumber"/></label></span>
  <span class="input"><label>Code postal <input id="-beneficiary+address+zip" placeholder="0000" pattern="\d{4}" type="text" title="4 chiffres"/></label></span>
  <span class="input"><label>Localité <input id="-beneficiary+address+locality"/></label></span>
    <!-- TODO: "Commune" instead of "Localité"? -->
  </fieldset>
</div>

<div id="buttons">
  <button onclick="window.print()">Imprimer</button>
  <button onclick="viewXml()">View XML</button>
  <a class="pseudobutton" download="PIIS.xml" onclick="saveXmlFile(this)">Save XML</a>
  <label><span class="pseudobutton">Load XML</span><input type="file" onchange="loadXmlFile(this)" style="display: none"/></label>
</div>

<script src="js/computed.js"></script>

<div id="contract">
  <h1>Contrat relatif au Projet Individualisé d'Intégration Sociale</h1>

  <p>Il est établi un contrat relatif à un projet individualisé d'intégration sociale entre&nbsp;:</p>

  <p>d'une part,
    <output idref="-beneficiary+genre-title"></output> <output idref="-beneficiary+lastname"></output>,
    <output idref="-beneficiary+genre-born"></output> le <output idref="-beneficiary+birthdate"></output>,
    résident à <output idref="-beneficiary+address"></output>
  </p>

  <p>ci-après <output idref="-beneficiary+genre-called"></output> «&nbsp;le bénéficiaire&nbsp;»</p>

  <p>et,</p>

  <p>d'autre part, le CPAS de <output idref="-center+municipality"></output> sis à <output idref="-center+address"></output>,
    représenté par
    <output idref="-center+president+genre-title"></output> <output idref="-center+president+name"></output>, <output idref="-center+president+genre-function"></output>
    et
    <output idref="-center+director+genre-title"></output> <output idref="-center+director+name"></output>, <output idref="-center+director+genre-function"></output>,
  </p>

  <p>ci-après dénommé «&nbsp;le Centre&nbsp;»</p>

</div>

</body>
